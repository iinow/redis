(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{215:function(s,a,n){"use strict";n.r(a);var e=n(28),t=Object(e.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"클러스터-구성하기"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#클러스터-구성하기"}},[s._v("#")]),s._v(" 클러스터 구성하기")]),s._v(" "),n("ul",[n("li",[s._v("클러스터 구성은 최소 3개로 구성이 가능하다(2개 안됨)")])]),s._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),n("p",[s._v("MongoDB 의 샤딩과 같은 개념이다.")])]),s._v(" "),n("h2",{attrs:{id:"설정-파일"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#설정-파일"}},[s._v("#")]),s._v(" 설정 파일")]),s._v(" "),n("div",{staticClass:"language-shell script line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$REDIS_HOME")]),s._v("/redis.conf "),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$REDIS_HOME")]),s._v("/redis1.conf\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$REDIS_HOME")]),s._v("/redis.conf "),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$REDIS_HOME")]),s._v("/redis2.conf\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$REDIS_HOME")]),s._v("/redis.conf "),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$REDIS_HOME")]),s._v("/redis3.conf \n\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$REDIS_HOME")]),s._v("/redis1.conf\nport "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7001")]),s._v("\ncluster-enabled "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\ncluster-config-file nodes1.conf\ncluster-node-timeout "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5000")]),s._v("\nappendonly "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$REDIS_HOME")]),s._v("/redis2.conf\nport "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7002")]),s._v("\ncluster-enabled "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\ncluster-config-file nodes2.conf\ncluster-node-timeout "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5000")]),s._v("\nappendonly "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$REDIS_HOME")]),s._v("/redis3.conf\nport "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7003")]),s._v("\ncluster-enabled "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\ncluster-config-file nodes3.conf\ncluster-node-timeout "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5000")]),s._v("\nappendonly "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 저장 후 ")]),s._v("\nredis-server "),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$REDIS_HOME")]),s._v("/redis1.conf "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("\nredis-server "),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$REDIS_HOME")]),s._v("/redis2.conf "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("\nredis-server "),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$REDIS_HOME")]),s._v("/redis3.conf "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("\nredis-cli --cluster create "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:6301 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:6302 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:6303\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br")])]),n("h2",{attrs:{id:"클러스터-구성-확인"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#클러스터-구성-확인"}},[s._v("#")]),s._v(" 클러스터 구성 확인")]),s._v(" "),n("div",{staticClass:"language-shell script line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("redis-cli -p "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7001")]),s._v("\ncluster nodes \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h2",{attrs:{id:"클러스터-노드-추가하기"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#클러스터-노드-추가하기"}},[s._v("#")]),s._v(" 클러스터 노드 추가하기")]),s._v(" "),n("div",{staticClass:"language-shell script line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("redis-cli --cluster add-node "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:7006 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:7000 --cluster-slave --cluster-master-id 3c3a0c74aae0b56170ccb03a76b60cfe7dc1912e\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 3c3a0c74aae0b56170ccb03a76b60cfe7dc1912e 이 값은 cluster nodes 에서 조회하면 해시 값을 나타낸다. ")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])])])}),[],!1,null,null,null);a.default=t.exports}}]);